devices {
    device LIXIL-CAE-SH-Standby {
        config {
            snmp {
                agent {
                    disabled;
                    ip               127.0.0.1;
                    udp-port         161;
                    extra-listen ::1 161;
                    version {
                        v1;
                        v2c;
                    }
                    max-message-size 50000;
                }
                system {
                    contact  "";
                    name     LIXIL-CAE-SH-Standby;
                    location "SHA, CHINA";
                }
                notify std_v1_trap {
                    tag  std_v1_trap;
                    type trap;
                }
                notify std_v2_inform {
                    tag  std_v2_inform;
                    type inform;
                }
                notify std_v2_trap {
                    tag  std_v2_trap;
                    type trap;
                }
                notify std_v3_inform {
                    tag  std_v3_inform;
                    type inform;
                }
                notify std_v3_trap {
                    tag  std_v3_trap;
                    type trap;
                }
                vacm {
                    view internet {
                        subtree 1.2 {
                            included;
                        }
                        subtree 1.3 {
                            included;
                        }
                        subtree 1.3.6.1 {
                            included;
                        }
                    }
                }
            }
            interfaces {
                vni-0/0 {
                    enable      false;
                    promiscuous false;
                    unit 0 {
                        description "WAN interface: WAN-1";
                        enable      true;
                        family {
                            inet {
                                address 222.73.20.206/28;
                            }
                        }
                    }
                }
                vni-0/1 {
                    enable true;
                    unit 0 {
                        description "WAN interface: WAN-2";
                        vlan-id     0;
                        enable      true;
                        family {
                            inet {
                                address 116.236.69.112/27;
                            }
                        }
                    }
                }
                vni-0/2 {
                    enable      true;
                    promiscuous false;
                    unit 0 {
                        description "LAN interface: LAN";
                        enable      true;
                        family {
                            inet {
                                address 10.160.30.2/24 {
                                    vrrp-group 1 {
                                        fast-interval            1000;
                                        virtual-address          [ 10.160.30.3 ];
                                        priority                 150;
                                        preempt-mode             preempt;
                                        warmup-interval          30;
                                        advertisements-threshold 3;
                                        track {
                                            interface vni-0/0.0 {
                                                priority-cost 100;
                                            }
                                            interface vni-0/1.0 {
                                                priority-cost 100;
                                            }
                                            monitor monitor--cn2 {
                                                priority-cost 100;
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                tvi-0/276 {
                    description "VXLAN Tunnel Interface for Customer1132 Control VR";
                    enable      true;
                    mode        ipsec;
                    type        p2mp-vxlan;
                    unit 0 {
                        enable true;
                        family {
                            inet {
                                address 10.0.0.113/32;
                            }
                        }
                    }
                }
                tvi-0/277 {
                    description "ESP Tunnel Interface for Customer1132 Control VR";
                    enable      true;
                    mode        ipsec;
                    type        p2mp-esp;
                    unit 0 {
                        enable true;
                        family {
                            inet {
                                address 10.0.0.112/32;
                            }
                        }
                    }
                }
                tvi-0/602 {
                    description      "WAN side Split Tunnel interface between WAN-1 and Customer1132-LAN-VR";
                    enable           true;
                    type             paired;
                    paired-interface tvi-0/603;
                    unit 0 {
                        enable true;
                        family {
                            inet {
                                address 169.254.0.2/31;
                            }
                        }
                    }
                }
                tvi-0/603 {
                    description      "LAN side Split Tunnel Interface between WAN-1 and Customer1132-LAN-VR";
                    enable           true;
                    type             paired;
                    paired-interface tvi-0/602;
                    unit 0 {
                        enable true;
                        family {
                            inet {
                                address 169.254.0.3/31;
                            }
                        }
                    }
                }
                tvi-0/604 {
                    description      "WAN side Split Tunnel interface between WAN-2 and Customer1132-LAN-VR";
                    enable           true;
                    type             paired;
                    paired-interface tvi-0/605;
                    unit 0 {
                        enable true;
                        family {
                            inet {
                                address 169.254.0.4/31;
                            }
                        }
                    }
                }
                tvi-0/605 {
                    description      "LAN side Split Tunnel Interface between WAN-2 and Customer1132-LAN-VR";
                    enable           true;
                    type             paired;
                    paired-interface tvi-0/604;
                    unit 0 {
                        enable true;
                        family {
                            inet {
                                address 169.254.0.5/31;
                            }
                        }
                    }
                }
                ptvi1162 {
                    remote-address   10.0.0.14;
                    parent-interface tvi-0/277.0;
                }
                ptvi4746 {
                    remote-address   10.0.0.12;
                    parent-interface tvi-0/277.0;
                }
                ptvi650 {
                    remote-address   10.0.0.6;
                    parent-interface tvi-0/277.0;
                }
            }
            monitor {
                monitor {
                    interval         1;
                    threshold        5;
                    type             icmp;
                    sub-type         none;
                    source-interface vni-0/0.0;
                    ip-addresses     [ 222.73.20.193 ];
                }
                monitor--cn2 {
                    interval         1;
                    threshold        5;
                    type             icmp;
                    sub-type         none;
                    source-interface vni-0/1.0;
                    ip-addresses     [ 116.236.69.97 ];
                }
            }
            networks {
                CT-YUN;
                HK-WAN;
                LAN {
                    interfaces [ vni-0/2.0 ];
                }
                LTE;
                LTE2;
                MPLS;
                SZX-WAN;
                W1-FKF-Z1-3;
                W1-FKF-Z2-3;
                W1-FKF3;
                W1-HK-Z1-3;
                W1-HK-Z2-3;
                W1-LA-1;
                W1-SHA-Z1-3;
                W1-SHA-Z2-3;
                W2-FKF-Z1-3;
                W2-FKF-Z2-3;
                W2-HK-Z1-3;
                W2-HK-Z2-3;
                W2-LA-1;
                W2-SHA-Z1-3;
                W2-SHA-Z2-3;
                W3-SHA-Z1-3;
                W3-SHA-Z2-3;
                W4-SHA-Z1-3;
                W4-SHA-Z2-3;
                WAN;
                WAN-1 {
                    interfaces [ vni-0/0.0 ];
                }
                WAN-2 {
                    interfaces [ vni-0/1.0 ];
                }
                WAN-HK1;
                WAN-HK2;
                WAN1;
                WAN1-CT;
                WAN2;
                WAN2-CU;
                WAN2-HK;
                WAN3;
                WAN3-FK;
                WAN3-HK;
                WAN4;
                WAN4-BJ;
                WAN4-KR;
            }
            orgs {
                org Customer1132 {
                    appliance-owner;
                    services                      [ cgnat nextgen-firewall sdwan ];
                    available-routing-instances   [ Customer1132-Control-VR Customer1132-LAN-VR WAN-1-Transport-VR WAN-2-Transport-VR ];
                    owned-routing-instances       [ Customer1132-Control-VR Customer1132-LAN-VR WAN-1-Transport-VR WAN-2-Transport-VR ];
                    available-networks            [ CT-YUN HK-WAN LAN LTE LTE2 MPLS SZX-WAN W1-FKF-Z1-3 W1-FKF-Z2-3 W1-FKF3 W1-HK-Z1-3 W1-HK-Z2-3 W1-LA-1 W1-SHA-Z1-3 W1-SHA-Z2-3 W2-FKF-Z1-3 W2-FKF-Z2-3 W2-HK-Z1-3 W2-HK-Z2-3 W2-LA-1 W2-SHA-Z1-3 W2-SHA-Z2-3 W3-SHA-Z1-3 W3-SHA-Z2-3 W4-SHA-Z1-3 W4-SHA-Z2-3 WAN WAN-1 WAN-2 WAN-HK1 WAN-HK2 WAN1 WAN1-CT WAN2 WAN2-CU WAN2-HK WAN3 WAN3-FK WAN3-HK WAN4 WAN4-BJ WAN4-KR ];
                    dhcp-profile                  dhcp-limits;
                    traffic-identification {
                        using          [ ptvi1162 ptvi4746 ptvi650 tvi-0/276.0 tvi-0/277.0 tvi-0/602.0 tvi-0/603.0 tvi-0/604.0 tvi-0/605.0 ];
                        using-networks [ LAN WAN-1 WAN-2 ];
                    }
                    sd-wan {
                        site {
                            global-tenant-id            138;
                            site-name                   LIXIL-CAE-SH-Standby;
                            management-routing-instance Customer1132-Control-VR;
                            wan-interfaces {
                                vni-0/0.0 {
                                    sla-monitoring-policy SLAM_Policy_vni-0/0.0;
                                }
                                vni-0/1.0 {
                                    sla-monitoring-policy SLAM_Policy_vni-0/1.0;
                                }
                            }
                            path-policy SLAM_Policy_vni-0/0.0 {
                                term To_Controller {
                                    match {
                                        remote-site-type [ controller ];
                                    }
                                    action {
                                        specific-config {
                                            fc_nc;
                                        }
                                    }
                                }
                                term To_Branches {
                                    match {
                                        remote-site-type [ branch ];
                                    }
                                    action {
                                        specific-config {
                                            fc_ef {
                                                sla-monitoring {
                                                    interval 2000;
                                                    adaptive;
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                            path-policy SLAM_Policy_vni-0/1.0 {
                                term To_Controller {
                                    match {
                                        remote-site-type [ controller ];
                                    }
                                    action {
                                        specific-config {
                                            fc_nc;
                                        }
                                    }
                                }
                                term To_Branches {
                                    match {
                                        remote-site-type [ branch ];
                                    }
                                    action {
                                        specific-config {
                                            fc_ef {
                                                sla-monitoring {
                                                    interval 2000;
                                                    adaptive;
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                        controllers {
                            HK-Controller {
                                management-addresses {
                                    IKE {
                                        ip-address       10.0.0.7;
                                        routing-instance Customer1132-Control-VR;
                                    }
                                    secure {
                                        ip-address       10.0.0.6;
                                        routing-instance Customer1132-Control-VR;
                                    }
                                }
                            }
                            SHA-Controller {
                                management-addresses {
                                    IKE {
                                        ip-address       10.0.0.13;
                                        routing-instance Customer1132-Control-VR;
                                    }
                                    secure {
                                        ip-address       10.0.0.12;
                                        routing-instance Customer1132-Control-VR;
                                    }
                                }
                            }
                            SQ-Controller {
                                management-addresses {
                                    IKE {
                                        ip-address       10.0.0.15;
                                        routing-instance Customer1132-Control-VR;
                                    }
                                    secure {
                                        ip-address       10.0.0.14;
                                        routing-instance Customer1132-Control-VR;
                                    }
                                }
                            }
                        }
                    }
                    available-service-node-groups [ default-sng ];
                }
                org-services Customer1132 {
                    cgnat {
                        pools {
                            DIA-Pool-WAN-1 {
                                routing-instance WAN-1-Transport-VR;
                                egress-network   [ WAN-1 ];
                                source-port {
                                    random-allocation;
                                }
                            }
                            DIA-Pool-WAN-2 {
                                routing-instance WAN-2-Transport-VR;
                                egress-network   [ WAN-2 ];
                                source-port {
                                    random-allocation;
                                }
                            }
                        }
                        rules {
                            DIA-Rule-Customer1132-LAN-VR-WAN-1 {
                                paired-site false;
                                from {
                                    source-zone [ W-ST-Customer1132-LAN-VR-WAN-1 ];
                                }
                                then {
                                    translated {
                                        translation-type napt-44;
                                        source-pool      DIA-Pool-WAN-1;
                                        filtering-type   none;
                                        mapping-type     none;
                                    }
                                }
                            }
                            DIA-Rule-Customer1132-LAN-VR-WAN-2 {
                                paired-site false;
                                from {
                                    destination-zone [ L-ST-Customer1132-LAN-VR-WAN-2 ];
                                }
                                then {
                                    translated {
                                        translation-type napt-44;
                                        source-pool      DIA-Pool-WAN-2;
                                        filtering-type   none;
                                        mapping-type     none;
                                    }
                                }
                            }
                            RFC_1918_NoTranslate {
                                precedence 100;
                                from {
                                    source-address      [ 10.0.0.0/8 172.16.0.0/12 192.168.0.0/16 ];
                                    destination-address [ 10.0.0.0/8 172.16.0.0/12 192.168.0.0/16 ];
                                }
                                then {
                                    no-translation;
                                }
                            }
                        }
                    }
                    class-of-service {
                        qos-policies {
                            Default-Policy;
                        }
                        app-qos-policies {
                            Default-Policy {
                                rules {
                                    windows_marketplace-qos-5M {
                                        match {
                                            application {
                                                predefined-application-list [ WINDOWS_MARKETPLACE ];
                                            }
                                        }
                                        set {
                                            action                allow;
                                            tcp-session-keepalive disabled;
                                            qos-profile           windows_marketplace-qos-limite;
                                        }
                                    }
                                    windows_update_limit {
                                        match {
                                            application {
                                                predefined-application-list [ WINDOWS_UPDATE ];
                                            }
                                        }
                                        set {
                                            action                allow;
                                            tcp-session-keepalive disabled;
                                            qos-profile           windows_update_limit;
                                        }
                                    }
                                    sdwan {
                                        match {
                                            source {
                                                zone {
                                                    zone-list [ ptvi ];
                                                }
                                            }
                                        }
                                        set {
                                            action                allow;
                                            tcp-session-keepalive disabled;
                                            qos-profile           sdwan-20M;
                                        }
                                    }
                                    office365 {
                                        match {
                                            application {
                                                predefined-application-list [ MICROSOFT OFFICE365 OFFICE_DOCS SHAREPOINT SHAREPOINT_ADMIN SHAREPOINT_DOCUMENT SHAREPOINT_ONLINE SKYPE ZOOM ZOOMTANZANIA ];
                                            }
                                        }
                                        set {
                                            action                allow;
                                            tcp-session-keepalive disabled;
                                            qos-profile           DIA-80M;
                                        }
                                    }
                                    match-rul {
                                        match {
                                            url-category {
                                                user-defined [ URL-Match-CN2 ];
                                            }
                                        }
                                        set {
                                            action                allow;
                                            tcp-session-keepalive disabled;
                                            qos-profile           DIA-80M;
                                        }
                                    }
                                    china {
                                        match {
                                            destination {
                                                zone {
                                                    zone-list [ L-ST-Customer1132-LAN-VR-WAN-2 ];
                                                }
                                            }
                                        }
                                        set {
                                            action                allow;
                                            tcp-session-keepalive disabled;
                                            qos-profile           DIA-80M;
                                        }
                                    }
                                }
                            }
                        }
                        qos-profiles {
                            DIA-80M {
                                peak-kbps-rate   81920;
                                peak-burst-size  5120000;
                                forwarding-class fc_af;
                                loss-priority    low;
                                dscp-rw-enable   yes;
                                dot1p-rw-enable  no;
                            }
                            sdwan-20M {
                                peak-kbps-rate   20480;
                                peak-burst-size  5000000;
                                forwarding-class fc_ef;
                                loss-priority    low;
                                dscp-rw-enable   no;
                                dot1p-rw-enable  no;
                            }
                            windows_marketplace-qos-limite {
                                peak-kbps-rate   500;
                                peak-burst-size  128;
                                forwarding-class fc_be;
                                loss-priority    high;
                                dscp-rw-enable   no;
                                dot1p-rw-enable  no;
                            }
                            windows_update_limit {
                                peak-kbps-rate   500;
                                peak-burst-size  128;
                                forwarding-class fc_be;
                                loss-priority    high;
                                dscp-rw-enable   no;
                                dot1p-rw-enable  no;
                            }
                        }
                    }
                    ipsec {
                        vpn-profile HK-Controller-Profile {
                            vpn-type                branch-sdwan;
                            branch-sdwan-profile    b2b-sdwan;
                            local-auth-info {
                                auth-type psk;
                                id-type   email;
                                key       phyEfFSSdODQSCQc;
                                id-string LIXIL-CAE-SH-Standby@Customer1132.com;
                            }
                            local {
                                interface-name tvi-0/276.0;
                            }
                            routing-instance        Customer1132-Control-VR;
                            tunnel-routing-instance Customer1132-Control-VR;
                            tunnel-initiate         automatic;
                            ipsec {
                                transform esp-aes128-gcm;
                                life {
                                    duration 28000;
                                }
                            }
                            ike {
                                group       mod19;
                                transform   aes256-sha256;
                                lifetime    28800;
                                dpd-timeout 10;
                            }
                            peer-auth-info {
                                auth-type psk;
                                id-type   email;
                                key       1234;
                                id-string HK-Controller@Customer1132.com;
                            }
                            peer {
                                address [ 10.0.0.7 ];
                            }
                            tunnel-interface        ptvi650;
                        }
                        vpn-profile SHA-Controller-Profile {
                            vpn-type                branch-sdwan;
                            branch-sdwan-profile    b2b-sdwan;
                            local-auth-info {
                                auth-type psk;
                                id-type   email;
                                key       cVMzAATXUVad2R12;
                                id-string LIXIL-CAE-SH-Standby@Customer1132.com;
                            }
                            local {
                                interface-name tvi-0/276.0;
                            }
                            routing-instance        Customer1132-Control-VR;
                            tunnel-routing-instance Customer1132-Control-VR;
                            tunnel-initiate         automatic;
                            ipsec {
                                transform esp-aes128-gcm;
                                life {
                                    duration 28000;
                                }
                            }
                            ike {
                                group       mod19;
                                transform   aes256-sha256;
                                lifetime    28800;
                                dpd-timeout 10;
                            }
                            peer-auth-info {
                                auth-type psk;
                                id-type   email;
                                key       1234;
                                id-string SHA-Controller@Customer1132.com;
                            }
                            peer {
                                address [ 10.0.0.13 ];
                            }
                            tunnel-interface        ptvi4746;
                        }
                        vpn-profile SQ-Controller-Profile {
                            vpn-type                branch-sdwan;
                            branch-sdwan-profile    b2b-sdwan;
                            local-auth-info {
                                auth-type psk;
                                id-type   email;
                                key       q4Afs607vnCKNWN9;
                                id-string LIXIL-CAE-SH-Standby@Customer1132.com;
                            }
                            local {
                                interface-name tvi-0/276.0;
                            }
                            routing-instance        Customer1132-Control-VR;
                            tunnel-routing-instance Customer1132-Control-VR;
                            tunnel-initiate         automatic;
                            ipsec {
                                transform esp-aes128-gcm;
                                life {
                                    duration 28000;
                                }
                            }
                            ike {
                                group       mod19;
                                transform   aes256-sha256;
                                lifetime    28800;
                                dpd-timeout 10;
                            }
                            peer-auth-info {
                                auth-type psk;
                                id-type   email;
                                key       1234;
                                id-string SQ-Controller@Customer1132.com;
                            }
                            peer {
                                address [ 10.0.0.15 ];
                            }
                            tunnel-interface        ptvi1162;
                        }
                        branch-sdwan-profile b2b-sdwan {
                            life-time  28800;
                            rekey-time 6300;
                        }
                    }
                    lef {
                        collectors {
                            LEF-Collector-log_collector1 {
                                destination-address 10.1.128.1;
                                destination-port    1234;
                                routing-instance    Customer1132-Control-VR;
                                transport           tcp;
                                template            Default-LEF-Template;
                            }
                            LEF-Collector-log_collector2 {
                                destination-address 10.1.128.9;
                                destination-port    1234;
                                routing-instance    Customer1132-Control-VR;
                                transport           tcp;
                                template            Default-LEF-Template;
                            }
                            LEF-Collector-log_collector3 {
                                destination-address 10.1.128.2;
                                destination-port    1234;
                                routing-instance    Customer1132-Control-VR;
                                transport           tcp;
                                template            Default-LEF-Template;
                            }
                        }
                        collector-groups {
                            Default-Collector-Group {
                                collectors [ LEF-Collector-log_collector1 LEF-Collector-log_collector2 LEF-Collector-log_collector3 ];
                            }
                        }
                        templates {
                            Default-LEF-Template {
                                type ipfix;
                            }
                        }
                        profiles {
                            Default-Logging-Profile {
                                collector-group Default-Collector-Group;
                            }
                        }
                        default-profile Default-Logging-Profile;
                    }
                    sd-wan {
                        forwarding-profiles {
                            CN1 {
                                nexthop-selection-method    load-balance;
                                nexthop-failure-action      wait-recover;
                                circuit-priorities {
                                    priority 1 {
                                        circuit-names {
                                            local  [ WAN-1 ];
                                            remote [ WAN ];
                                        }
                                    }
                                    avoid {
                                        circuit-names {
                                            local  [ WAN-2 ];
                                            remote [ WAN ];
                                        }
                                    }
                                }
                                connection-selection-method weighted-round-robin;
                                sla-violation-action        forward;
                                evaluate-continuously       enable;
                                recompute-timer             300;
                                encryption                  optional;
                                symmetric-forwarding        enable;
                                replication {
                                    mode disable;
                                }
                                fec {
                                    sender {
                                        mode disable;
                                    }
                                    receiver {
                                        recovery                enable;
                                        preserve-order          enable;
                                        maximum-fec-packet-size 1400;
                                    }
                                }
                                sla-smoothing {
                                    enable false;
                                }
                                sla-dampening {
                                    enable false;
                                }
                                gradual-migration           disable;
                                reverse-route-verification  disable;
                            }
                            Default-FP {
                                evaluate-continuously enable;
                                symmetric-forwarding  enable;
                                reorder               enable;
                            }
                        }
                        policies {
                            Default-Policy {
                                rules {
                                    DIA {
                                        match {
                                            source {
                                                user {
                                                    local-database {
                                                        status disabled;
                                                    }
                                                    external-database {
                                                        status disabled;
                                                    }
                                                    user-type any;
                                                }
                                            }
                                            destination {
                                                region [ CN ];
                                            }
                                        }
                                        set {
                                            action           allow;
                                            nexthop-address  169.254.0.4;
                                            routing-instance Customer1132-LAN-VR;
                                            lef {
                                                event      never;
                                                rate-limit 10;
                                            }
                                        }
                                    }
                                    win-make-dia-cn2 {
                                        match {
                                            source {
                                                user {
                                                    local-database {
                                                        status disabled;
                                                    }
                                                    external-database {
                                                        status disabled;
                                                    }
                                                    user-type any;
                                                }
                                            }
                                            application {
                                                predefined-application-list [ WINDOWS_MARKETPLACE ];
                                            }
                                        }
                                        set {
                                            action           allow;
                                            nexthop-address  169.254.0.4;
                                            routing-instance Customer1132-LAN-VR;
                                            lef {
                                                event      never;
                                                rate-limit 10;
                                            }
                                        }
                                    }
                                    microsfot-CN2 {
                                        match {
                                            source {
                                                user {
                                                    local-database {
                                                        status disabled;
                                                    }
                                                    external-database {
                                                        status disabled;
                                                    }
                                                    user-type any;
                                                }
                                            }
                                            application {
                                                predefined-application-list [ MICROSOFT ];
                                            }
                                        }
                                        set {
                                            action           allow;
                                            nexthop-address  169.254.0.4;
                                            routing-instance Customer1132-LAN-VR;
                                            lef {
                                                event      never;
                                                rate-limit 10;
                                            }
                                        }
                                    }
                                    application-office365 {
                                        match {
                                            source {
                                                user {
                                                    local-database {
                                                        status disabled;
                                                    }
                                                    external-database {
                                                        status disabled;
                                                    }
                                                    user-type any;
                                                }
                                            }
                                            application {
                                                predefined-application-list [ MICROSOFT OFFICE365 OFFICEDEPOT OFFICE_DOCS SHAREPOINT SHAREPOINT_ONLINE ];
                                                predefined-group-list       [ Office365-Apps ];
                                            }
                                        }
                                        set {
                                            action           allow;
                                            nexthop-address  169.254.0.4;
                                            routing-instance Customer1132-LAN-VR;
                                            lef {
                                                event      never;
                                                rate-limit 10;
                                            }
                                        }
                                    }
                                    allow-office-url {
                                        match {
                                            source {
                                                user {
                                                    local-database {
                                                        status disabled;
                                                    }
                                                    external-database {
                                                        status disabled;
                                                    }
                                                    user-type any;
                                                }
                                            }
                                            url-category {
                                                user-defined [ URL-Match-CN2 ];
                                            }
                                        }
                                        set {
                                            action           allow;
                                            nexthop-address  169.254.0.4;
                                            routing-instance Customer1132-LAN-VR;
                                            lef {
                                                event      never;
                                                rate-limit 10;
                                            }
                                        }
                                    }
                                    ZOOM-Applications-CN2 {
                                        match {
                                            source {
                                                user {
                                                    local-database {
                                                        status disabled;
                                                    }
                                                    external-database {
                                                        status disabled;
                                                    }
                                                    user-type any;
                                                }
                                            }
                                            application {
                                                predefined-application-list [ SKYPE ZOOM ZOOMTANZANIA ];
                                            }
                                        }
                                        set {
                                            action           allow;
                                            nexthop-address  169.254.0.4;
                                            routing-instance Customer1132-LAN-VR;
                                            lef {
                                                event      never;
                                                rate-limit 10;
                                            }
                                        }
                                    }
                                    ZOOM-CN2 {
                                        match {
                                            source {
                                                user {
                                                    local-database {
                                                        status disabled;
                                                    }
                                                    external-database {
                                                        status disabled;
                                                    }
                                                    user-type any;
                                                }
                                            }
                                            url-category {
                                                user-defined [ url-zoom ];
                                            }
                                        }
                                        set {
                                            action           allow;
                                            nexthop-address  169.254.0.4;
                                            routing-instance Customer1132-LAN-VR;
                                            lef {
                                                event      never;
                                                rate-limit 10;
                                            }
                                        }
                                    }
                                    off365-teams-CN2 {
                                        match {
                                            source {
                                                user {
                                                    local-database {
                                                        status disabled;
                                                    }
                                                    external-database {
                                                        status disabled;
                                                    }
                                                    user-type any;
                                                }
                                            }
                                            application {
                                                predefined-application-list [ MICROSOFT OFFICE365 SHAREPOINT SHAREPOINT_ADMIN SHAREPOINT_BLOG SHAREPOINT_CALENDAR SHAREPOINT_DOCUMENT SHAREPOINT_ONLINE SKYPE ];
                                            }
                                        }
                                        set {
                                            action           allow;
                                            nexthop-address  169.254.0.4;
                                            routing-instance Customer1132-LAN-VR;
                                            lef {
                                                event      never;
                                                rate-limit 10;
                                            }
                                        }
                                    }
                                    qq-download {
                                        match {
                                            source {
                                                user {
                                                    local-database {
                                                        status disabled;
                                                    }
                                                    external-database {
                                                        status disabled;
                                                    }
                                                    user-type any;
                                                }
                                            }
                                            application {
                                                predefined-application-list [ QQDOWNLOAD ];
                                            }
                                        }
                                        set {
                                            action           allow;
                                            nexthop-address  169.254.0.4;
                                            routing-instance Customer1132-LAN-VR;
                                            lef {
                                                event      never;
                                                rate-limit 10;
                                            }
                                        }
                                    }
                                    DNS {
                                        match {
                                            source {
                                                user {
                                                    local-database {
                                                        status disabled;
                                                    }
                                                    external-database {
                                                        status disabled;
                                                    }
                                                    user-type any;
                                                }
                                            }
                                            destination {
                                                address {
                                                    address-list [ SH-DNS ];
                                                }
                                            }
                                        }
                                        set {
                                            action           allow;
                                            nexthop-address  169.254.0.4;
                                            routing-instance Customer1132-LAN-VR;
                                            lef {
                                                event      never;
                                                rate-limit 10;
                                            }
                                        }
                                    }
                                    SDWAN {
                                        match {
                                            source {
                                                user {
                                                    local-database {
                                                        status disabled;
                                                    }
                                                    external-database {
                                                        status disabled;
                                                    }
                                                    user-type any;
                                                }
                                            }
                                        }
                                        set {
                                            action                       allow;
                                            enforce-symmetric-forwarding;
                                            forwarding-profile           Default-FP;
                                            lef {
                                                event      never;
                                                rate-limit 10;
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    security {
                        access-policies {
                            Default-Policy {
                                rules {
                                    Allow_From_Trust {
                                        match {
                                            source {
                                                zone {
                                                    zone-list [ Intf-LAN-Zone W-ST-Customer1132-LAN-VR-WAN-1 W-ST-Customer1132-LAN-VR-WAN-2 ];
                                                }
                                            }
                                        }
                                        set {
                                            action allow;
                                        }
                                    }
                                    Allow_From_SDWAN {
                                        match {
                                            source {
                                                zone {
                                                    zone-list [ ptvi ];
                                                }
                                            }
                                        }
                                        set {
                                            action allow;
                                        }
                                    }
                                }
                            }
                        }
                        logs {
                            profile Default-Logging-Profile;
                            logging-control {
                                stats {
                                    all;
                                }
                            }
                        }
                    }
                    objects {
                        addresses {
                            R2-Portal {
                                ipv4-prefix 47.52.122.192/32;
                            }
                            SH-DNS {
                                ipv4-prefix 103.243.254.162/32;
                            }
                        }
                        zones {
                            Intf-CT-YUN-Zone;
                            Intf-HK-WAN-Zone;
                            Intf-LAN-Zone {
                                networks [ LAN ];
                            }
                            Intf-LTE-Zone;
                            Intf-LTE2-Zone;
                            Intf-MPLS-Zone;
                            Intf-SZX-WAN-Zone;
                            Intf-W1-FKF-Z1-3-Zone;
                            Intf-W1-FKF-Z2-3-Zone;
                            Intf-W1-FKF3-Zone;
                            Intf-W1-HK-Z1-3-Zone;
                            Intf-W1-HK-Z2-3-Zone;
                            Intf-W1-LA-1-Zone;
                            Intf-W1-SHA-Z1-3-Zone;
                            Intf-W1-SHA-Z2-3-Zone;
                            Intf-W2-FKF-Z1-3-Zone;
                            Intf-W2-FKF-Z2-3-Zone;
                            Intf-W2-HK-Z1-3-Zone;
                            Intf-W2-HK-Z2-3-Zone;
                            Intf-W2-LA-1-Zone;
                            Intf-W2-SHA-Z1-3-Zone;
                            Intf-W2-SHA-Z2-3-Zone;
                            Intf-W3-SHA-Z1-3-Zone;
                            Intf-W3-SHA-Z2-3-Zone;
                            Intf-W4-SHA-Z1-3-Zone;
                            Intf-W4-SHA-Z2-3-Zone;
                            Intf-WAN-1-Zone {
                                networks [ WAN-1 ];
                            }
                            Intf-WAN-2-Zone {
                                networks [ WAN-2 ];
                            }
                            Intf-WAN-HK1-Zone;
                            Intf-WAN-HK2-Zone;
                            Intf-WAN-Zone;
                            Intf-WAN1-CT-Zone;
                            Intf-WAN1-Zone;
                            Intf-WAN2-CU-Zone;
                            Intf-WAN2-HK-Zone;
                            Intf-WAN2-Zone;
                            Intf-WAN3-FK-Zone;
                            Intf-WAN3-HK-Zone;
                            Intf-WAN3-Zone;
                            Intf-WAN4-BJ-Zone;
                            Intf-WAN4-KR-Zone;
                            Intf-WAN4-Zone;
                            L-ST-Customer1132-LAN-VR-CT-YUN;
                            L-ST-Customer1132-LAN-VR-HK-WAN;
                            L-ST-Customer1132-LAN-VR-LTE;
                            L-ST-Customer1132-LAN-VR-LTE2;
                            L-ST-Customer1132-LAN-VR-MPLS;
                            L-ST-Customer1132-LAN-VR-SZX-WAN;
                            L-ST-Customer1132-LAN-VR-W1-FKF-Z1-3;
                            L-ST-Customer1132-LAN-VR-W1-FKF-Z2-3;
                            L-ST-Customer1132-LAN-VR-W1-FKF3;
                            L-ST-Customer1132-LAN-VR-W1-HK-Z1-3;
                            L-ST-Customer1132-LAN-VR-W1-HK-Z2-3;
                            L-ST-Customer1132-LAN-VR-W1-LA-1;
                            L-ST-Customer1132-LAN-VR-W1-SHA-Z1-3;
                            L-ST-Customer1132-LAN-VR-W1-SHA-Z2-3;
                            L-ST-Customer1132-LAN-VR-W2-FKF-Z1-3;
                            L-ST-Customer1132-LAN-VR-W2-FKF-Z2-3;
                            L-ST-Customer1132-LAN-VR-W2-HK-Z1-3;
                            L-ST-Customer1132-LAN-VR-W2-HK-Z2-3;
                            L-ST-Customer1132-LAN-VR-W2-LA-1;
                            L-ST-Customer1132-LAN-VR-W2-SHA-Z1-3;
                            L-ST-Customer1132-LAN-VR-W2-SHA-Z2-3;
                            L-ST-Customer1132-LAN-VR-W3-SHA-Z1-3;
                            L-ST-Customer1132-LAN-VR-W3-SHA-Z2-3;
                            L-ST-Customer1132-LAN-VR-W4-SHA-Z1-3;
                            L-ST-Customer1132-LAN-VR-W4-SHA-Z2-3;
                            L-ST-Customer1132-LAN-VR-WAN;
                            L-ST-Customer1132-LAN-VR-WAN-1 {
                                interface-list [ tvi-0/603.0 ];
                            }
                            L-ST-Customer1132-LAN-VR-WAN-2 {
                                interface-list [ tvi-0/605.0 ];
                            }
                            L-ST-Customer1132-LAN-VR-WAN-HK1;
                            L-ST-Customer1132-LAN-VR-WAN-HK2;
                            L-ST-Customer1132-LAN-VR-WAN1;
                            L-ST-Customer1132-LAN-VR-WAN1-CT;
                            L-ST-Customer1132-LAN-VR-WAN2;
                            L-ST-Customer1132-LAN-VR-WAN2-CU;
                            L-ST-Customer1132-LAN-VR-WAN2-HK;
                            L-ST-Customer1132-LAN-VR-WAN3;
                            L-ST-Customer1132-LAN-VR-WAN3-FK;
                            L-ST-Customer1132-LAN-VR-WAN3-HK;
                            L-ST-Customer1132-LAN-VR-WAN4;
                            L-ST-Customer1132-LAN-VR-WAN4-BJ;
                            L-ST-Customer1132-LAN-VR-WAN4-KR;
                            RTI-CT-YUN-Zone;
                            RTI-HK-WAN-Zone;
                            RTI-LTE-Zone;
                            RTI-LTE2-Zone;
                            RTI-MPLS-Zone;
                            RTI-SZX-WAN-Zone;
                            RTI-W1-FKF-Z1-3-Zone;
                            RTI-W1-FKF-Z2-3-Zone;
                            RTI-W1-FKF3-Zone;
                            RTI-W1-HK-Z1-3-Zone;
                            RTI-W1-HK-Z2-3-Zone;
                            RTI-W1-LA-1-Zone;
                            RTI-W1-SHA-Z1-3-Zone;
                            RTI-W1-SHA-Z2-3-Zone;
                            RTI-W2-FKF-Z1-3-Zone;
                            RTI-W2-FKF-Z2-3-Zone;
                            RTI-W2-HK-Z1-3-Zone;
                            RTI-W2-HK-Z2-3-Zone;
                            RTI-W2-LA-1-Zone;
                            RTI-W2-SHA-Z1-3-Zone;
                            RTI-W2-SHA-Z2-3-Zone;
                            RTI-W3-SHA-Z1-3-Zone;
                            RTI-W3-SHA-Z2-3-Zone;
                            RTI-W4-SHA-Z1-3-Zone;
                            RTI-W4-SHA-Z2-3-Zone;
                            RTI-WAN-1-Zone {
                                routing-instance WAN-1-Transport-VR;
                            }
                            RTI-WAN-2-Zone {
                                routing-instance WAN-2-Transport-VR;
                            }
                            RTI-WAN-HK1-Zone;
                            RTI-WAN-HK2-Zone;
                            RTI-WAN-Zone;
                            RTI-WAN1-CT-Zone;
                            RTI-WAN1-Zone;
                            RTI-WAN2-CU-Zone;
                            RTI-WAN2-HK-Zone;
                            RTI-WAN2-Zone;
                            RTI-WAN3-FK-Zone;
                            RTI-WAN3-HK-Zone;
                            RTI-WAN3-Zone;
                            RTI-WAN4-BJ-Zone;
                            RTI-WAN4-KR-Zone;
                            RTI-WAN4-Zone;
                            W-ST-Customer1132-LAN-VR-CT-YUN;
                            W-ST-Customer1132-LAN-VR-HK-WAN;
                            W-ST-Customer1132-LAN-VR-LTE;
                            W-ST-Customer1132-LAN-VR-LTE2;
                            W-ST-Customer1132-LAN-VR-MPLS;
                            W-ST-Customer1132-LAN-VR-SZX-WAN;
                            W-ST-Customer1132-LAN-VR-W1-FKF-Z1-3;
                            W-ST-Customer1132-LAN-VR-W1-FKF-Z2-3;
                            W-ST-Customer1132-LAN-VR-W1-FKF3;
                            W-ST-Customer1132-LAN-VR-W1-HK-Z1-3;
                            W-ST-Customer1132-LAN-VR-W1-HK-Z2-3;
                            W-ST-Customer1132-LAN-VR-W1-LA-1;
                            W-ST-Customer1132-LAN-VR-W1-SHA-Z1-3;
                            W-ST-Customer1132-LAN-VR-W1-SHA-Z2-3;
                            W-ST-Customer1132-LAN-VR-W2-FKF-Z1-3;
                            W-ST-Customer1132-LAN-VR-W2-FKF-Z2-3;
                            W-ST-Customer1132-LAN-VR-W2-HK-Z1-3;
                            W-ST-Customer1132-LAN-VR-W2-HK-Z2-3;
                            W-ST-Customer1132-LAN-VR-W2-LA-1;
                            W-ST-Customer1132-LAN-VR-W2-SHA-Z1-3;
                            W-ST-Customer1132-LAN-VR-W2-SHA-Z2-3;
                            W-ST-Customer1132-LAN-VR-W3-SHA-Z1-3;
                            W-ST-Customer1132-LAN-VR-W3-SHA-Z2-3;
                            W-ST-Customer1132-LAN-VR-W4-SHA-Z1-3;
                            W-ST-Customer1132-LAN-VR-W4-SHA-Z2-3;
                            W-ST-Customer1132-LAN-VR-WAN;
                            W-ST-Customer1132-LAN-VR-WAN-1 {
                                interface-list [ tvi-0/602.0 ];
                            }
                            W-ST-Customer1132-LAN-VR-WAN-2 {
                                interface-list [ tvi-0/604.0 ];
                            }
                            W-ST-Customer1132-LAN-VR-WAN-HK1;
                            W-ST-Customer1132-LAN-VR-WAN-HK2;
                            W-ST-Customer1132-LAN-VR-WAN1;
                            W-ST-Customer1132-LAN-VR-WAN1-CT;
                            W-ST-Customer1132-LAN-VR-WAN2;
                            W-ST-Customer1132-LAN-VR-WAN2-CU;
                            W-ST-Customer1132-LAN-VR-WAN2-HK;
                            W-ST-Customer1132-LAN-VR-WAN3;
                            W-ST-Customer1132-LAN-VR-WAN3-FK;
                            W-ST-Customer1132-LAN-VR-WAN3-HK;
                            W-ST-Customer1132-LAN-VR-WAN4;
                            W-ST-Customer1132-LAN-VR-WAN4-BJ;
                            W-ST-Customer1132-LAN-VR-WAN4-KR;
                            host;
                            ptvi;
                        }
                    }
                    traffic-monitoring {
                        logging-control {
                            Default-Logging-Control {
                                profile Default-Logging-Profile;
                                options {
                                    stats {
                                        all;
                                    }
                                }
                            }
                        }
                    }
                    url-filtering {
                        user-defined-url-categories {
                            URL-Match-CN2 {
                                urls {
                                    patterns .*live.*;
                                    patterns .*microsoft.*;
                                    patterns .*microsoftonline.*;
                                    patterns .*msauth.*;
                                    patterns .*msftauth.*;
                                    patterns .*office365.*;
                                }
                            }
                            url-zoom {
                                urls {
                                    patterns .*meetzoom.*;
                                    patterns .*meetzoom.net;
                                    patterns .*zoom.*;
                                    patterns .*zoom.com.cn;
                                    patterns .*zoom.us;
                                }
                            }
                        }
                    }
                }
            }
            dhcp-profiles {
                dhcp-limits {
                    description "DHCP profile";
                    dhcp-options {
                        max-servers 100;
                        max-relays  100;
                        max-clients 8192;
                    }
                }
            }
            predefined {
                global {
                    init true;
                }
            }
            protocols {
                lldp {
                    enable true;
                }
            }
            routing-instances {
                Customer1132-Control-VR {
                    instance-type virtual-router;
                    policy-options {
                        redistribution-policy Control-VR-Policy {
                            term Paired-TVI-Reject {
                                match {
                                    address 169.254.0.0/16;
                                }
                                action {
                                    reject;
                                }
                            }
                            term SDWAN-TVI1-Reject {
                                match {
                                    address 10.0.0.113/32;
                                }
                                action {
                                    reject;
                                }
                            }
                            term SDWAN-TVI2-Reject {
                                match {
                                    address 10.0.0.112/32;
                                }
                                action {
                                    reject;
                                }
                            }
                            term DIRECT {
                                match {
                                    protocol direct;
                                }
                                action {
                                              accept;
                                    set-origin igp;
                                }
                            }
                        }
                        redistribute-to-bgp Control-VR-Policy;
                    }
                    mpls-vpn-core;
                    interfaces    [ ptvi1162 ptvi4746 ptvi650 tvi-0/276.0 tvi-0/277.0 ];
                    routing-options {
                        mpls-vpn-local-router-interface {
                            family    inet;
                            interface tvi-0/277.0;
                        }
                    }
                    protocols {
                        bgp {
                            138 {
                                local-address 10.0.0.112;
                                shutdown      false;
                                graceful-restart {
                                    enable;
                                    maximum-restart-time 3600;
                                    recovery-time        3600;
                                    select-defer-time    30;
                                    stalepath-time       3600;
                                    multiplier           8;
                                    helper               enable;
                                }
                                prefix-limit;
                                routing-peer-policy Import-From-Hubs-Policy {
                                    term Accept-Direct-VersaPvt-Spokes-Customer1132-LAN-VR {
                                        match {
                                            family    versa-private;
                                            community "(^|,)8010:13180($|,)";
                                        }
                                        action {
                                                            accept;
                                            community        8009:8009;
                                            community-action set-specific;
                                            rib-bgp-ecmp     false;
                                        }
                                    }
                                    term Reject-VersaPvt-Spokes {
                                        match {
                                            family    versa-private;
                                            community "((^|,)8000:1($|,))|((^|,)8000:2($|,))";
                                        }
                                        action {
                                                        reject;
                                            rib-bgp-ecmp false;
                                        }
                                    }
                                    term Accept-Direct-Spokes-Customer1132-LAN-VR {
                                        match {
                                            community          "(^|,)8010:13180($|,)";
                                            extended-community target:128L:128;
                                        }
                                        action {
                                                            accept;
                                            community        8009:8009;
                                            community-action set-specific;
                                            rib-bgp-ecmp     false;
                                        }
                                    }
                                    term Hub-Priority1-Customer1132-LAN-VR {
                                        match {
                                            extended-community "target:16128L:180 target:8128L:180";
                                        }
                                        action {
                                                                accept;
                                            community            8009:8009;
                                            community-action     set-specific;
                                            set-local-preference 102;
                                            rib-bgp-ecmp         false;
                                        }
                                    }
                                    term Hub-Priority2-Customer1132-LAN-VR {
                                        match {
                                            extended-community "target:16128L:363 target:8128L:363";
                                        }
                                        action {
                                                                accept;
                                            community            8009:8009;
                                            community-action     set-specific;
                                            set-local-preference 101;
                                            rib-bgp-ecmp         false;
                                        }
                                    }
                                    term Accept-Local-Region-Rts {
                                        match {
                                            community ".*8009:8010.*8011:49(,|$)";
                                        }
                                        action {
                                                            accept;
                                            community        8009:8009;
                                            community-action set-specific;
                                            rib-bgp-ecmp     false;
                                        }
                                    }
                                    term Reject-Remote-Region-Rts {
                                        match {
                                            community "((^|,)8011:.*($|,))";
                                        }
                                        action {
                                                        reject;
                                            rib-bgp-ecmp false;
                                        }
                                    }
                                    term Accept-Local-Region-Versa-Rts {
                                        match {
                                            family    versa-private;
                                            community "((^|,)8011:49($|,))";
                                        }
                                        action {
                                                            accept;
                                            community        8009:8009;
                                            community-action set-specific;
                                            rib-bgp-ecmp     false;
                                        }
                                    }
                                    term Reject-Remote-Region-Versa-Rts {
                                        match {
                                            family    versa-private;
                                            community "((^|,)8011:.*($|,))";
                                        }
                                        action {
                                                        reject;
                                            rib-bgp-ecmp false;
                                        }
                                    }
                                    term Allow-All {
                                        action {
                                                            accept;
                                            community        8009:8009;
                                            community-action set-specific;
                                            rib-bgp-ecmp     false;
                                        }
                                    }
                                    term Allow-VersaPvt-All {
                                        match {
                                            family versa-private;
                                        }
                                        action {
                                                        accept;
                                            rib-bgp-ecmp false;
                                        }
                                    }
                                }
                                routing-peer-policy TO_SDWAN {
                                    term Reject_DIA {
                                        match {
                                            community "(^|,)64513:64513($|,)";
                                        }
                                        action {
                                            reject;
                                        }
                                    }
                                    term SpokeGroup-Community-VersaPvt-1 {
                                        match {
                                            family versa-private;
                                        }
                                        action {
                                                            accept;
                                            community        8010:13180;
                                            community-action set-specific;
                                            next-term        VersaPvt-Region;
                                        }
                                    }
                                    term VersaPvt-Region {
                                        match {
                                            family versa-private;
                                        }
                                        action {
                                                            accept;
                                            community        8011:49;
                                            community-action set-specific;
                                            next-term        VersaPvt-Wildcard-Spoke;
                                        }
                                    }
                                    term VersaPvt-Wildcard-Spoke {
                                        match {
                                            family versa-private;
                                        }
                                        action {
                                                            accept;
                                            community        8000:1;
                                            community-action set-specific;
                                        }
                                    }
                                    term Wildcard {
                                        action {
                                            accept;
                                        }
                                    }
                                }
                                router-id     10.0.0.112;
                                local-as {
                                    as-number 64512;
                                }
                                group Controllers-Group {
                                    type    internal;
                                    family {
                                        inet {
                                            unicast {
                                                prefix-limit-control {
                                                    threshold 75;
                                                }
                                            }
                                            versa-private {
                                                prefix-limit-control {
                                                    threshold 75;
                                                }
                                            }
                                        }
                                        inet-vpn {
                                            unicast {
                                                prefix-limit-control {
                                                    threshold 75;
                                                }
                                            }
                                        }
                                        inet6-vpn {
                                            unicast {
                                                prefix-limit-control {
                                                    threshold 75;
                                                }
                                            }
                                        }
                                    }
                                    import  Import-From-Hubs-Policy;
                                    export  TO_SDWAN;
                                    peer-as 64512;
                                    prefix-limit;
                                    neighbor 10.0.0.6;
                                    neighbor 10.0.0.12;
                                    neighbor 10.0.0.14;
                                }
                            }
                        }
                    }
                }
                Customer1132-LAN-VR {
                    instance-type          vrf;
                    policy-options {
                        redistribution-policy Default-Policy-To-BGP {
                            term T1-Paired-TVI-Direct {
                                match {
                                    protocol direct;
                                    address  169.254.0.0/16;
                                }
                                action {
                                    reject;
                                }
                            }
                            term T2-DIRECT {
                                match {
                                    protocol direct;
                                }
                                action {
                                                        accept;
                                    set-community        "8001:180 8002:363 8000:1 8010:13180 8011:49 8012:3333";
                                    set-origin           igp;
                                    set-local-preference 109;
                                }
                            }
                            term T4-BGP {
                                match {
                                    protocol bgp;
                                }
                                action {
                                                        accept;
                                    set-community        "8001:180 8002:363 8000:1 8010:13180 8011:49";
                                    set-origin           egp;
                                    set-local-preference 109;
                                }
                            }
                            term T4-STATIC {
                                match {
                                    protocol static;
                                }
                                action {
                                                        accept;
                                    set-community        "8001:180 8002:363 8000:1 8010:13180 8011:49";
                                    set-origin           egp;
                                    set-local-preference 109;
                                }
                            }
                        }
                        redistribute-to-bgp Default-Policy-To-BGP;
                    }
                    global-vrf-id          128;
                    networks               [ LAN ];
                    mpls-vpn-core-instance Customer1132-Control-VR;
                    interfaces             [ tvi-0/603.0 tvi-0/605.0 ];
                    route-distinguisher    128L:629;
                    vrf-import-target      "target:16128L:180 target:16128L:363";
                    vrf-both-target        target:128L:128;
                    routing-options {
                        static {
                            route {
                                10.160.0.0/19 10.160.30.254 vni-0/2.0 {
                                    preference 1;
                                }
                                10.160.248.0/21 10.160.30.254 vni-0/2.0 {
                                    preference 1;
                                }
                                47.52.122.192/32 169.254.0.2 tvi-0/603.0 {
                                    preference 1;
                                }
                            }
                        }
                    }
                    protocols {
                        bgp {
                            3140 {
                                enable-alarms;
                                shutdown      false;
                                graceful-restart {
                                    helper enable;
                                }
                                prefix-limit;
                                prefix-list Default-Route-Prefix {
                                    seq 1 {
                                        address-family {
                                            ipv4 {
                                                unicast {
                                                    address-mask 0.0.0.0/0;
                                                }
                                            }
                                        }
                                    }
                                }
                                routing-peer-policy From_ST_WAN-1 {
                                    term Color_ST_Routes {
                                        action {
                                                                reject;
                                            community            64513:64513;
                                            community-action     set-specific;
                                            set-local-preference 120;
                                            rib-bgp-ecmp         false;
                                        }
                                    }
                                }
                                routing-peer-policy From_ST_WAN-2 {
                                    term Color_ST_Routes {
                                        action {
                                                                reject;
                                            community            64513:64513;
                                            community-action     set-specific;
                                            set-local-preference 119;
                                            rib-bgp-ecmp         false;
                                        }
                                    }
                                }
                                routing-peer-policy Import-From-LAN-Policy {
                                    term Reject-SDWAN-Routes {
                                        match {
                                            community "(^|,)8009:8009($|,)";
                                        }
                                        action {
                                                        reject;
                                            rib-bgp-ecmp false;
                                        }
                                    }
                                    term Allow-All {
                                        action {
                                                        accept;
                                            rib-bgp-ecmp false;
                                        }
                                    }
                                }
                                routing-peer-policy To_ST_DIA {
                                    term Allow_Local_LAN {
                                        match {
                                            community "(^|,)8009:8009($|,)";
                                        }
                                        action {
                                            reject;
                                        }
                                    }
                                    term Reject_Cloud_Routes {
                                        match {
                                            community .*8013:8013.*;
                                        }
                                        action {
                                            reject;
                                        }
                                    }
                                    term Allow_All {
                                        action {
                                            accept;
                                        }
                                    }
                                }
                                router-id     169.254.0.128;
                                local-as {
                                    as-number 64514;
                                }
                                group ST-Group-1 {
                                    type          external;
                                    family {
                                        inet {
                                            unicast;
                                        }
                                    }
                                    import        From_ST_WAN-1;
                                    export        To_ST_DIA;
                                    peer-as       64513;
                                    prefix-limit;
                                    local-address 169.254.0.3;
                                    neighbor 169.254.0.2;
                                }
                                group ST-Group-2 {
                                    type          external;
                                    family {
                                        inet {
                                            unicast;
                                        }
                                    }
                                    import        From_ST_WAN-2;
                                    export        To_ST_DIA;
                                    peer-as       64513;
                                    prefix-limit;
                                    local-address 169.254.0.5;
                                    neighbor 169.254.0.4;
                                }
                            }
                        }
                    }
                }
                WAN-1-Transport-VR {
                    instance-type virtual-router;
                    policy-options {
                        redistribution-policy ST-Policy {
                            term T1-STATIC {
                                match {
                                    protocol static;
                                }
                                action {
                                              accept;
                                    set-origin igp;
                                }
                            }
                        }
                        redistribute-to-bgp ST-Policy;
                    }
                    networks      [ WAN-1 ];
                    interfaces    [ tvi-0/602.0 ];
                    routing-options {
                        static {
                            route {
                                0.0.0.0/0 222.73.20.193 none {
                                    tag 0;
                                }
                            }
                        }
                    }
                    protocols {
                        bgp {
                            3000 {
                                enable-alarms;
                                router-id     169.254.0.1;
                                local-as {
                                    as-number 64513;
                                }
                                group ST_Group {
                                    type external;
                                    family {
                                        inet {
                                            unicast;
                                        }
                                    }
                                    neighbor 169.254.0.3 {
                                        local-address 169.254.0.2;
                                        peer-as       64514;
                                    }
                                }
                            }
                        }
                    }
                }
                WAN-2-Transport-VR {
                    instance-type virtual-router;
                    policy-options {
                        redistribution-policy ST-Policy {
                            term T1-STATIC {
                                match {
                                    protocol static;
                                }
                                action {
                                              accept;
                                    set-origin igp;
                                }
                            }
                        }
                        redistribute-to-bgp ST-Policy;
                    }
                    networks      [ WAN-2 ];
                    interfaces    [ tvi-0/604.0 ];
                    routing-options {
                        static {
                            route {
                                0.0.0.0/0 116.236.69.97 none {
                                    tag 0;
                                }
                            }
                        }
                    }
                    protocols {
                        bgp {
                            3001 {
                                enable-alarms;
                                router-id     169.254.1.1;
                                local-as {
                                    as-number 64513;
                                }
                                group ST_Group {
                                    type external;
                                    family {
                                        inet {
                                            unicast;
                                        }
                                    }
                                    neighbor 169.254.0.5 {
                                        local-address 169.254.0.4;
                                        peer-as       64514;
                                    }
                                }
                            }
                        }
                    }
                }
            }
            service-node-groups {
                default-sng {
                    id       0;
                    type     internal;
                    services [ cgnat nextgen-firewall sdwan ];
                }
            }
            system {
                vnf-manager {
                    ip-addresses        [ 172.15.150.10/32 172.15.151.10/32 ];
                    vnf-mgmt-interfaces [ tvi-0/277.0 ];
                }
                identification {
                    name      LIXIL-CAE-SH-Standby;
                    location  "SHA, CHINA";
                    latitude  0.0;
                    longitude 0.0;
                }
                session {
                    check-tcp-syn           false;
                    reevaluate-reverse-flow false;
                    tcp-send-reset          false;
                    tcp-secure-reset        false;
                    tcp-adjust-mss {
                        enable          true;
                        interface-types all;
                    }
                }
                services {
                    ssh  enabled;
                    sftp disabled;
                    www  enabled;
                }
                subjugate {
                    enabled;
                }
                time-zone America/Los_Angeles;
                users admin {
                    password $6$kF6JmT0S6VG8pxbG$Dnufh/TA8L4snMC3qdk0QwRgTJ92o2wEXuEU6CYGbtHae1LWY8f02owAAYBH3lddAKTv.DBGXMX7ELir0Xay4.;
                    login    shell;
                    role     admin;
                }
                users versa {
                    login shell;
                    role  admin;
                }
                users webuser {
                    password $6$0vuX5sMhwWiyR2Vw$QdRxWOXFBeyHZsU/w.xMMWI6sN9jtAANl1vdyspNqMXVGAVBoLkMlYhTejfIU8bYdanT5yuk5o6GIRBuWY41u1;
                    login    none;
                    role     oper;
                }
                ssh {
                    client-alive-interval  300;
                    client-alive-count-max 0;
                }
                sd-wan {
                    site {
                        site-type    branch;
                        chassis-id   DGSCA0800168;
                        site-id      629;
                        provider-org Customer1132;
                        wan-interfaces {
                            vni-0/0.0 {
                                transport-domains [ Internet ];
                                inet {
                                    circuit-name WAN-1;
                                }
                            }
                            vni-0/1.0 {
                                transport-domains [ Internet ];
                                inet {
                                    circuit-name WAN-2;
                                }
                            }
                        }
                    }
                    transport-domains {
                        Internet {
                            id          20;
                            description "Public internet routing domain";
                        }
                    }
                    controllers {
                        HK-Controller {
                            site-name HK-Controller;
                            site-id   1;
                            transport-addresses {
                                HK-Controller-Transport-WAN {
                                    ip-address        203.19.37.133;
                                    transport-domains [ Internet ];
                                }
                            }
                        }
                        SHA-Controller {
                            site-name SHA-Controller;
                            site-id   9;
                            transport-addresses {
                                SHA-Controller-Transport-WAN {
                                    ip-address        116.236.71.56;
                                    transport-domains [ Internet ];
                                }
                            }
                        }
                        SQ-Controller {
                            site-name SQ-Controller;
                            site-id   2;
                            transport-addresses {
                                SQ-Controller-Transport-WAN {
                                    ip-address        203.33.9.8;
                                    transport-domains [ Internet ];
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
